import{y as A,_ as M,d as P,r as d,o as D,c as S,a as e,w as l,F as W,k as X,m as H,e as T,h as f,b as w,t as _e,s as O,g as B,v as F,u as p,A as L,f as q,B as pe,E as me,C as be}from"./index.b616fdab.js";import{l as fe}from"./index.129b1cab.js";const ke=t=>A({url:"/bookmark/api/v1/bookmark",method:"GET",params:t,paramsSerializer:o=>fe.stringify(o,{arrayFormat:"repeat"})}),ye=t=>A({url:"/bookmark/api/v1/bookmark/insert",method:"PUT",data:t}),G=t=>A({url:"/bookmark/api/v1/bookmark/update",method:"POST",data:t}),ge=t=>A({url:"/bookmark/api/v1/bookmark/delete/"+t,method:"DELETE"}),ve=t=>A({url:"/bookmark/api/v1/bookmark_type/insert",method:"PUT",data:t}),he=()=>A({url:"/bookmark/api/v1/bookmark_type",method:"GET",data:{}});const Ce={class:"dashboard"},xe={class:"dialog-footer"},we=f("\u53D6\u6D88"),De=f("\u63D0\u4EA4"),Ee=P({props:{types:null,dialog_form:null,operate_code:null},emits:["on-concel","on-submit"],setup(t,{emit:o}){const n=t,i="140px",m=()=>{o("on-concel")},u=()=>{const b={bk_id:n.dialog_form.bk_id,bk_type_id:n.dialog_form.bk_type_id,comment:n.dialog_form.comment,url:n.dialog_form.url};n.operate_code=="0"?ye(b).then(a=>{o("on-submit")}):n.operate_code=="1"?G(b).then(a=>{o("on-submit")}):n.operate_code=="2"&&G(b).then(a=>{o("on-submit")})};return(b,a)=>{const v=d("el-option"),y=d("el-select"),_=d("el-input"),h=d("el-form-item"),C=d("el-form"),R=d("el-button");return D(),S("div",Ce,[e(C,{model:t.dialog_form},{default:l(()=>[e(h,{label:"\u5206\u7C7B","label-width":i},{default:l(()=>[e(y,{modelValue:t.dialog_form.bk_type_id,"onUpdate:modelValue":a[0]||(a[0]=g=>t.dialog_form.bk_type_id=g),placeholder:""},{default:l(()=>[(D(!0),S(W,null,X(t.types,g=>(D(),H(v,{key:g.bk_type_id,value:g.bk_type_id,label:g.bk_type_name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),e(h,{label:"\u5907\u6CE8","label-width":i},{default:l(()=>[e(_,{modelValue:t.dialog_form.comment,"onUpdate:modelValue":a[1]||(a[1]=g=>t.dialog_form.comment=g),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(h,{label:"url","label-width":i},{default:l(()=>[e(_,{modelValue:t.dialog_form.url,"onUpdate:modelValue":a[2]||(a[2]=g=>t.dialog_form.url=g),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"]),T("span",xe,[e(R,{onClick:m},{default:l(()=>[we]),_:1}),e(R,{type:"primary",onClick:u},{default:l(()=>[De]),_:1})])])}}});var Ve=M(Ee,[["__scopeId","data-v-0b345e82"]]);const Te={class:"dashboard"},Se={class:"dialog-footer"},Ae=f("\u63D0\u4EA4"),Ue=P({emits:["on-update"],setup(t,{emit:o}){const n=w(""),i=()=>{const m={bookmark_type_name:n.value};ve(m).then(u=>{o("on-update"),n.value=""})};return(m,u)=>{const b=d("el-input"),a=d("el-button");return D(),S("div",Te,[e(b,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=v=>n.value=v),placeholder:"Please input"},null,8,["modelValue"]),T("span",Se,[e(a,{type:"primary",onClick:i},{default:l(()=>[Ae]),_:1})])])}}});var $e=M(Ue,[["__scopeId","data-v-58aa0600"]]);const Be={class:"dialog-footer"},Fe=f("\u53D6\u6D88"),Re=f("\u786E\u8BA4"),Ne=P({props:{delete_id:null},emits:["on-concel","on-submit"],setup(t,{emit:o}){const n=t,i=()=>{o("on-concel")},m=()=>{o("on-submit",n.delete_id)};return(u,b)=>{const a=d("el-button");return D(),S("span",Be,[e(a,{onClick:i},{default:l(()=>[Fe]),_:1}),e(a,{type:"primary",onClick:m},{default:l(()=>[Re]),_:1})])}}});var Ie=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var o=document.activeElement,n=[],i=0;i<t.rangeCount;i++)n.push(t.getRangeAt(i));switch(o.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":o.blur();break;default:o=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(m){t.addRange(m)}),o&&o.focus()}},Oe=Ie,K={"text/plain":"Text","text/html":"Url",default:"Text"},Pe="Copy to clipboard: #{key}, Enter";function ze(t){var o=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,o)}function Le(t,o){var n,i,m,u,b,a,v=!1;o||(o={}),n=o.debug||!1;try{m=Oe(),u=document.createRange(),b=document.getSelection(),a=document.createElement("span"),a.textContent=t,a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(_){if(_.stopPropagation(),o.format)if(_.preventDefault(),typeof _.clipboardData=="undefined"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var h=K[o.format]||K.default;window.clipboardData.setData(h,t)}else _.clipboardData.clearData(),_.clipboardData.setData(o.format,t);o.onCopy&&(_.preventDefault(),o.onCopy(_.clipboardData))}),document.body.appendChild(a),u.selectNodeContents(a),b.addRange(u);var y=document.execCommand("copy");if(!y)throw new Error("copy command was unsuccessful");v=!0}catch(_){n&&console.error("unable to copy using execCommand: ",_),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(o.format||"text",t),o.onCopy&&o.onCopy(window.clipboardData),v=!0}catch(h){n&&console.error("unable to copy using clipboardData: ",h),n&&console.error("falling back to prompt"),i=ze("message"in o?o.message:Pe),window.prompt(i,t)}}finally{b&&(typeof b.removeRange=="function"?b.removeRange(u):b.removeAllRanges()),a&&document.body.removeChild(a),m()}return v}var Me=Le;const je={class:"bookmark"},qe=f("\u68C0\u7D22"),Ge={class:"tag_list"},Ke=f("\u589E\u52A0"),We=f("\u81EA\u5B9A\u4E49"),Xe={class:"create_dialog"},He=f("\u65B0\u5EFA"),Je=["onClick"],Qe=f("\u7F16\u8F91 "),Ye=f(" \u5220\u9664 "),Ze={style:{"margin-top":"20px"}},et=f("\u53CD\u9009"),tt=f("\u6E05\u9664"),ot=P({setup(t){const o=_e();let n=w("");const i=O({bk_type_ids:[],comment:""}),m=O([]),u=O({bk_id:"-1",bk_type_id:1,bk_type_name:"\u672A\u5206\u7C7B",comment:"",url:""}),b=w(),a=w([]),v=c=>{c?c.forEach(r=>{b.value.toggleRowSelection(r,void 0)}):b.value.clearSelection()};let y=w(!1),_=w(!1),h=w(!1),C=w(!1);const R=()=>{h.value=!0},g=()=>{C.value=!0},J=()=>{C.value=!1,$(),j()},U=O([]),j=()=>{he().then(c=>{U.splice(0,U.length),c.data.forEach(r=>{const k=r.split("|"),V={bk_type_id:Number(k[0]),bk_type_name:k[1],clicked:!1};U.push(V)})})},Q=()=>{n.value="0",u.bk_id="-1",u.bk_type_id=1,u.bk_type_name="\u672A\u5206\u7C7B",u.comment="",u.url="",y.value=!0},Y=(c,r)=>{Object.assign(u,r),n.value="2",_.value=!0},Z=(c,r)=>{Object.assign(u,r),n.value="1",y.value=!0},ee=c=>{c.clicked?(c.clicked=!1,i.bk_type_ids.forEach(function(r,k,V){r==c.bk_type_id&&V.splice(k,1)})):(c.clicked=!0,i.bk_type_ids.push(c.bk_type_id))},te=c=>{a.value=c},oe=c=>{window.open(c)},$=()=>{const c={comment:i.comment,type_id:i.bk_type_ids};m.splice(0,m.length),ke(c).then(r=>{r.data.forEach((k,V)=>{const N={bk_id:k.bk_id,bk_type_id:k.bk_type_id,bk_type_name:k.bk_type_name,comment:k.comment,url:k.url};m.push(N)})})},ae=c=>{ge(c).then(k=>{_.value=!1,$()})},le=()=>{y.value=!1},ne=()=>{y.value=!1,$()},re=c=>{Me(c.url+""),me({title:"",message:be("i",{style:"color: teal"},"\u590D\u5236\u6210\u529F")})};return $(),j(),(c,r)=>{const k=d("el-input"),V=d("el-form-item"),N=d("el-col"),x=d("el-button"),se=d("el-row"),ce=d("el-tag"),ie=d("el-form"),E=d("el-table-column"),ue=d("el-icon"),de=d("el-table"),z=d("el-dialog");return D(),S("div",je,[e(ie,null,{default:l(()=>[e(se,null,{default:l(()=>[e(N,{span:6},{default:l(()=>[e(V,null,{default:l(()=>[e(k,{modelValue:p(i).comment,"onUpdate:modelValue":r[0]||(r[0]=s=>p(i).comment=s),placeholder:"\u8BF7\u8F93\u5165",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(N,{span:6},{default:l(()=>[e(x,{type:"primary",onClick:$},{default:l(()=>[qe]),_:1})]),_:1})]),_:1}),T("div",Ge,[(D(!0),S(W,null,X(p(U),s=>(D(),H(ce,{class:"ml-2 click-icon",type:s.clicked?"danger":"info",onClick:I=>ee(s)},{default:l(()=>[f(q(s.bk_type_name),1)]),_:2},1032,["type","onClick"]))),256)),B(e(x,{type:"primary",onClick:g},{default:l(()=>[Ke]),_:1},512),[[F,p(o).account]]),B(e(x,{type:"primary",onClick:R},{default:l(()=>[We]),_:1},512),[[F,p(o).account]])])]),_:1}),T("div",Xe,[B(e(x,{type:"primary",onClick:Q},{default:l(()=>[He]),_:1},512),[[F,p(o).account]])]),e(de,{ref_key:"multipleTableRef",ref:b,data:p(m),onSelectionChange:te,style:{width:"100%"}},{default:l(()=>[e(E,{type:"selection",width:"55"}),e(E,{type:"index",label:"index",width:"80"}),e(E,{prop:"bk_type_name",label:"\u5206\u7C7B",width:"100"}),e(E,{prop:"comment",label:"\u540D\u79F0",width:"180"}),e(E,{prop:"facvion",label:"\u56FE\u6807",width:"60"}),e(E,{class:"click-icon",prop:"url",label:"url"},{default:l(s=>[T("span",{style:{cursor:"pointer"},onClick:I=>oe(s.row.url)},q(s.row.url),9,Je)]),_:1}),e(E,{label:"\u64CD\u4F5C"},{default:l(s=>[e(ue,{size:20,onClick:I=>re(s.row),class:"click-icon"},{default:l(()=>[e(p(pe))]),_:2},1032,["onClick"]),B(e(x,{class:"click-icon",size:"small",onClick:I=>Z(s.$index,s.row)},{default:l(()=>[Qe]),_:2},1032,["onClick"]),[[F,p(o).account]]),B(e(x,{size:"small",type:"danger",onClick:I=>Y(s.$index,s.row)},{default:l(()=>[Ye]),_:2},1032,["onClick"]),[[F,p(o).account]])]),_:1})]),_:1},8,["data"]),T("div",Ze,[e(x,{onClick:r[1]||(r[1]=s=>v([p(m)[1],p(m)[2]]))},{default:l(()=>[et]),_:1}),e(x,{onClick:r[2]||(r[2]=s=>v())},{default:l(()=>[tt]),_:1})]),e(z,{modelValue:p(y),"onUpdate:modelValue":r[3]||(r[3]=s=>L(y)?y.value=s:y=s),title:"\u6DFB\u52A0\u4E66\u7B7E"},{default:l(()=>[e(Ve,{dialog_form:p(u),operate_code:p(n),types:p(U),onOnConcel:le,onOnSubmit:ne},null,8,["dialog_form","operate_code","types"])]),_:1},8,["modelValue"]),e(z,{modelValue:p(_),"onUpdate:modelValue":r[4]||(r[4]=s=>L(_)?_.value=s:_=s)},{default:l(()=>[e(Ne,{delete_id:p(u).bk_id,onOnSubmit:ae},null,8,["delete_id"])]),_:1},8,["modelValue"]),e(z,{modelValue:p(C),"onUpdate:modelValue":r[5]||(r[5]=s=>L(C)?C.value=s:C=s)},{default:l(()=>[e($e,{onOnUpdate:J})]),_:1},8,["modelValue"])])}}});var nt=M(ot,[["__scopeId","data-v-06413eb6"]]);export{nt as default};
