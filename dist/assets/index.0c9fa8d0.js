import{C as A,_ as G,d as P,r as d,o as D,c as S,a as e,w as l,F as K,k as W,m as X,e as T,h as b,b as w,t as _e,A as O,g as B,v as F,u as p,G as L,f as j,H as pe,I as me,x as fe}from"./index.10397e63.js";import{l as be}from"./index.f804916d.js";const ye=t=>A({url:"/auth/api/v1/bookmark",method:"GET",params:t,paramsSerializer:o=>be.stringify(o,{arrayFormat:"repeat"})}),ke=t=>A({url:"/auth/api/v1/bookmark/insert",method:"PUT",data:t}),q=t=>A({url:"/auth/api/v1/bookmark/update",method:"POST",data:t}),ge=t=>A({url:"/auth/api/v1/bookmark/delete/"+t,method:"DELETE"}),ve=t=>A({url:"/auth/api/v1/bookmark_type/insert",method:"PUT",data:t}),he=()=>A({url:"/auth/api/v1/bookmark_type",method:"GET",data:{}});const Ce={class:"dashboard"},xe={class:"dialog-footer"},we=b("\u53D6\u6D88"),De=b("\u63D0\u4EA4"),Ee=P({props:{types:null,dialog_form:null,operate_code:null},emits:["on-concel","on-submit"],setup(t,{emit:o}){const n=t,u="140px",m=()=>{o("on-concel")},i=()=>{const f={bk_id:n.dialog_form.bk_id,bk_type_id:n.dialog_form.bk_type_id,comment:n.dialog_form.comment,url:n.dialog_form.url};n.operate_code=="0"?ke(f).then(a=>{o("on-submit")}):n.operate_code=="1"?q(f).then(a=>{o("on-submit")}):n.operate_code=="2"&&q(f).then(a=>{o("on-submit")})};return(f,a)=>{const v=d("el-option"),k=d("el-select"),_=d("el-input"),h=d("el-form-item"),C=d("el-form"),R=d("el-button");return D(),S("div",Ce,[e(C,{model:t.dialog_form},{default:l(()=>[e(h,{label:"\u5206\u7C7B","label-width":u},{default:l(()=>[e(k,{modelValue:t.dialog_form.bk_type_id,"onUpdate:modelValue":a[0]||(a[0]=g=>t.dialog_form.bk_type_id=g),placeholder:""},{default:l(()=>[(D(!0),S(K,null,W(t.types,g=>(D(),X(v,{key:g.bk_type_id,value:g.bk_type_id,label:g.bk_type_name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),e(h,{label:"\u5907\u6CE8","label-width":u},{default:l(()=>[e(_,{modelValue:t.dialog_form.comment,"onUpdate:modelValue":a[1]||(a[1]=g=>t.dialog_form.comment=g),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(h,{label:"url","label-width":u},{default:l(()=>[e(_,{modelValue:t.dialog_form.url,"onUpdate:modelValue":a[2]||(a[2]=g=>t.dialog_form.url=g),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"]),T("span",xe,[e(R,{onClick:m},{default:l(()=>[we]),_:1}),e(R,{type:"primary",onClick:i},{default:l(()=>[De]),_:1})])])}}});var Ve=G(Ee,[["__scopeId","data-v-0b345e82"]]);const Te={class:"dashboard"},Se={class:"dialog-footer"},Ae=b("\u63D0\u4EA4"),Ue=P({emits:["on-update"],setup(t,{emit:o}){const n=w(""),u=()=>{const m={bookmark_type_name:n.value};ve(m).then(i=>{o("on-update"),n.value=""})};return(m,i)=>{const f=d("el-input"),a=d("el-button");return D(),S("div",Te,[e(f,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=v=>n.value=v),placeholder:"Please input"},null,8,["modelValue"]),T("span",Se,[e(a,{type:"primary",onClick:u},{default:l(()=>[Ae]),_:1})])])}}});var $e=G(Ue,[["__scopeId","data-v-58aa0600"]]);const Be={class:"dialog-footer"},Fe=b("\u53D6\u6D88"),Re=b("\u786E\u8BA4"),Ie=P({props:{delete_id:null},emits:["on-concel","on-submit"],setup(t,{emit:o}){const n=t,u=()=>{o("on-concel")},m=()=>{o("on-submit",n.delete_id)};return(i,f)=>{const a=d("el-button");return D(),S("span",Be,[e(a,{onClick:u},{default:l(()=>[Fe]),_:1}),e(a,{type:"primary",onClick:m},{default:l(()=>[Re]),_:1})])}}});var Ne=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var o=document.activeElement,n=[],u=0;u<t.rangeCount;u++)n.push(t.getRangeAt(u));switch(o.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":o.blur();break;default:o=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(m){t.addRange(m)}),o&&o.focus()}},Oe=Ne,H={"text/plain":"Text","text/html":"Url",default:"Text"},Pe="Copy to clipboard: #{key}, Enter";function ze(t){var o=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,o)}function Le(t,o){var n,u,m,i,f,a,v=!1;o||(o={}),n=o.debug||!1;try{m=Oe(),i=document.createRange(),f=document.getSelection(),a=document.createElement("span"),a.textContent=t,a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(_){if(_.stopPropagation(),o.format)if(_.preventDefault(),typeof _.clipboardData=="undefined"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var h=H[o.format]||H.default;window.clipboardData.setData(h,t)}else _.clipboardData.clearData(),_.clipboardData.setData(o.format,t);o.onCopy&&(_.preventDefault(),o.onCopy(_.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),f.addRange(i);var k=document.execCommand("copy");if(!k)throw new Error("copy command was unsuccessful");v=!0}catch(_){n&&console.error("unable to copy using execCommand: ",_),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(o.format||"text",t),o.onCopy&&o.onCopy(window.clipboardData),v=!0}catch(h){n&&console.error("unable to copy using clipboardData: ",h),n&&console.error("falling back to prompt"),u=ze("message"in o?o.message:Pe),window.prompt(u,t)}}finally{f&&(typeof f.removeRange=="function"?f.removeRange(i):f.removeAllRanges()),a&&document.body.removeChild(a),m()}return v}var Ge=Le;const Me={class:"bookmark"},je=b("\u68C0\u7D22"),qe={class:"tag_list"},He=b("\u589E\u52A0"),Ke=b("\u81EA\u5B9A\u4E49"),We={class:"create_dialog"},Xe=b("\u65B0\u5EFA"),Je=["onClick"],Qe=b("\u7F16\u8F91 "),Ye=b(" \u5220\u9664 "),Ze={style:{"margin-top":"20px"}},et=b("\u53CD\u9009"),tt=b("\u6E05\u9664"),ot=P({setup(t){const o=_e();let n=w("");const u=O({bk_type_ids:[],comment:""}),m=O([]),i=O({bk_id:"-1",bk_type_id:1,bk_type_name:"\u672A\u5206\u7C7B",comment:"",url:""}),f=w(),a=w([]),v=c=>{c?c.forEach(r=>{f.value.toggleRowSelection(r,void 0)}):f.value.clearSelection()};let k=w(!1),_=w(!1),h=w(!1),C=w(!1);const R=()=>{h.value=!0},g=()=>{C.value=!0},J=()=>{C.value=!1,$(),M()},U=O([]),M=()=>{he().then(c=>{U.splice(0,U.length),c.data.forEach(r=>{const y=r.split("|"),V={bk_type_id:Number(y[0]),bk_type_name:y[1],clicked:!1};U.push(V)})})},Q=()=>{n.value="0",i.bk_id="-1",i.bk_type_id=1,i.bk_type_name="\u672A\u5206\u7C7B",i.comment="",i.url="",k.value=!0},Y=(c,r)=>{Object.assign(i,r),n.value="2",_.value=!0},Z=(c,r)=>{Object.assign(i,r),n.value="1",k.value=!0},ee=c=>{c.clicked?(c.clicked=!1,u.bk_type_ids.forEach(function(r,y,V){r==c.bk_type_id&&V.splice(y,1)})):(c.clicked=!0,u.bk_type_ids.push(c.bk_type_id))},te=c=>{a.value=c},oe=c=>{window.open(c)},$=()=>{const c={comment:u.comment,type_id:u.bk_type_ids};m.splice(0,m.length),ye(c).then(r=>{r.data.forEach((y,V)=>{const I={bk_id:y.bk_id,bk_type_id:y.bk_type_id,bk_type_name:y.bk_type_name,comment:y.comment,url:y.url};m.push(I)})})},ae=c=>{ge(c).then(y=>{_.value=!1,$()})},le=()=>{k.value=!1},ne=()=>{k.value=!1,$()},re=c=>{Ge(c.url+""),me({title:"",message:fe("i",{style:"color: teal"},"\u590D\u5236\u6210\u529F")})};return $(),M(),(c,r)=>{const y=d("el-input"),V=d("el-form-item"),I=d("el-col"),x=d("el-button"),se=d("el-row"),ce=d("el-tag"),ue=d("el-form"),E=d("el-table-column"),ie=d("el-icon"),de=d("el-table"),z=d("el-dialog");return D(),S("div",Me,[e(ue,null,{default:l(()=>[e(se,null,{default:l(()=>[e(I,{span:6},{default:l(()=>[e(V,null,{default:l(()=>[e(y,{modelValue:p(u).comment,"onUpdate:modelValue":r[0]||(r[0]=s=>p(u).comment=s),placeholder:"\u8BF7\u8F93\u5165",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(I,{span:6},{default:l(()=>[e(x,{type:"primary",onClick:$},{default:l(()=>[je]),_:1})]),_:1})]),_:1}),T("div",qe,[(D(!0),S(K,null,W(p(U),s=>(D(),X(ce,{class:"ml-2 click-icon",type:s.clicked?"danger":"info",onClick:N=>ee(s)},{default:l(()=>[b(j(s.bk_type_name),1)]),_:2},1032,["type","onClick"]))),256)),B(e(x,{type:"primary",onClick:g},{default:l(()=>[He]),_:1},512),[[F,p(o).account]]),B(e(x,{type:"primary",onClick:R},{default:l(()=>[Ke]),_:1},512),[[F,p(o).account]])])]),_:1}),T("div",We,[B(e(x,{type:"primary",onClick:Q},{default:l(()=>[Xe]),_:1},512),[[F,p(o).account]])]),e(de,{ref_key:"multipleTableRef",ref:f,data:p(m),onSelectionChange:te,style:{width:"100%"}},{default:l(()=>[e(E,{type:"selection",width:"55"}),e(E,{type:"index",label:"index",width:"80"}),e(E,{prop:"bk_type_name",label:"\u5206\u7C7B",width:"100"}),e(E,{prop:"comment",label:"\u540D\u79F0",width:"180"}),e(E,{prop:"facvion",label:"\u56FE\u6807",width:"60"}),e(E,{class:"click-icon",prop:"url",label:"url"},{default:l(s=>[T("span",{style:{cursor:"pointer"},onClick:N=>oe(s.row.url)},j(s.row.url),9,Je)]),_:1}),e(E,{label:"\u64CD\u4F5C"},{default:l(s=>[e(ie,{size:20,onClick:N=>re(s.row),class:"click-icon"},{default:l(()=>[e(p(pe))]),_:2},1032,["onClick"]),B(e(x,{class:"click-icon",size:"small",onClick:N=>Z(s.$index,s.row)},{default:l(()=>[Qe]),_:2},1032,["onClick"]),[[F,p(o).account]]),B(e(x,{size:"small",type:"danger",onClick:N=>Y(s.$index,s.row)},{default:l(()=>[Ye]),_:2},1032,["onClick"]),[[F,p(o).account]])]),_:1})]),_:1},8,["data"]),T("div",Ze,[e(x,{onClick:r[1]||(r[1]=s=>v([p(m)[1],p(m)[2]]))},{default:l(()=>[et]),_:1}),e(x,{onClick:r[2]||(r[2]=s=>v())},{default:l(()=>[tt]),_:1})]),e(z,{modelValue:p(k),"onUpdate:modelValue":r[3]||(r[3]=s=>L(k)?k.value=s:k=s),title:"\u6DFB\u52A0\u4E66\u7B7E"},{default:l(()=>[e(Ve,{dialog_form:p(i),operate_code:p(n),types:p(U),onOnConcel:le,onOnSubmit:ne},null,8,["dialog_form","operate_code","types"])]),_:1},8,["modelValue"]),e(z,{modelValue:p(_),"onUpdate:modelValue":r[4]||(r[4]=s=>L(_)?_.value=s:_=s)},{default:l(()=>[e(Ie,{delete_id:p(i).bk_id,onOnSubmit:ae},null,8,["delete_id"])]),_:1},8,["modelValue"]),e(z,{modelValue:p(C),"onUpdate:modelValue":r[5]||(r[5]=s=>L(C)?C.value=s:C=s)},{default:l(()=>[e($e,{onOnUpdate:J})]),_:1},8,["modelValue"])])}}});var nt=G(ot,[["__scopeId","data-v-06413eb6"]]);export{nt as default};
