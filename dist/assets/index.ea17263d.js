import{G as S,_ as B,d as E,b as h,M as I,r as F,o as p,c as y,e as g,n as C,u as d,w,v as x,a as V,N as L,t as M,g as N,f as O,D as T,F as P,j as $,p as U,m as j,k as D}from"./index.5d800fae.js";const G=e=>S({url:"/auth/api/v1/one_note",method:"GET",params:e}),z=e=>S({url:"/auth/api/v1/one_note/update_page",method:"POST",data:e}),q=e=>S({url:"/auth/api/v1/one_note/update_section",method:"POST",data:e}),A=()=>S({url:"/auth/api/v1/one_note/insert_section",method:"PUT"}),H=e=>S({url:"/auth/one_note/insert_page",method:"PUT",data:e});const J=["id"],Q=E({props:{row_key:null,checked:{type:Boolean},page_data:null},setup(e){const t=e;let o=h("aliceblue"),a=h("aliceblue"),n=h(!1);I(t,(s,_)=>{t.checked?(o.value="background-color: #d0d0d0;",a.value="background-color: blueviolet;"):(o.value="background-color: white;",a.value="background-color: white;")}),t.checked&&(o.value="background-color: #d0d0d0;",a.value="background-color: blueviolet;");const r=s=>{n.value=!n.value;const _=document.getElementById("input_edit"+s);setTimeout(()=>_.focus())},b=()=>{n.value=!n.value;const s={page_id:t.page_data.page_id,page_name:t.page_data.page_name};z(s).then(_=>{}),u()},m=s=>{s.target.blur()},f=s=>{t.checked||n.value||(o.value="background-color: #FDF5E6;")},u=()=>{t.checked||n.value||(o.value="background-color: white;")};return(s,_)=>{const c=F("el-input");return p(),y("div",{class:"page_tab",onMouseover:f,onMouseleave:u,onDblclick:_[1]||(_[1]=i=>r(e.row_key)),style:C(d(o))},[g("div",{class:"input_prex",style:C(d(a))},null,4),w(V(c,{id:"input_edit"+e.row_key,class:"input_edit",modelValue:e.page_data.page_name,"onUpdate:modelValue":_[0]||(_[0]=i=>e.page_data.page_name=i),onBlur:b,onKeyup:L(m,["enter"])},null,8,["id","modelValue","onKeyup"]),[[x,d(n)]]),w(g("div",{id:"input_show"+e.row_key,class:"input_show"},M(e.page_data.page_name),9,J),[[x,!d(n)]])],36)}}});var R=B(Q,[["__scopeId","data-v-1d6e4caa"]]);const W=["id"],X=E({props:{row_key:null,checked:{type:Boolean},section_data:null},setup(e){const t=e;let o=h("aliceblue"),a=h(!1);I(t,(u,s)=>{t.checked?o.value="background-color: #d0d0d0;":o.value="background-color: white;"}),t.checked&&(o.value="background-color: #d0d0d0;");const n=u=>{a.value=!a.value;const s=document.getElementById("section_edit"+u);setTimeout(()=>s.focus())},r=()=>{a.value=!a.value;const u={section_id:t.section_data.section_id,section_name:t.section_data.section_name};q(u).then(s=>{}),f()},b=u=>{u.target.blur()},m=u=>{t.checked||a.value||(o.value="background-color: #FDF5E6;")},f=()=>{t.checked||a.value||(o.value="background-color: white;")};return(u,s)=>{const _=F("el-input");return p(),y("div",{class:"section_tab",onMouseover:m,onMouseleave:f,onDblclick:s[1]||(s[1]=c=>n(e.row_key)),style:C(d(o))},[w(V(_,{id:"section_edit"+e.row_key,modelValue:e.section_data.section_name,"onUpdate:modelValue":s[0]||(s[0]=c=>e.section_data.section_name=c),onBlur:r,onKeyup:L(b,["enter"])},null,8,["id","modelValue","onKeyup"]),[[x,d(a)]]),w(g("div",{id:"section_show"+e.row_key},M(e.section_data.section_name),9,W),[[x,!d(a)]])],36)}}});var Y=B(X,[["__scopeId","data-v-3103ea96"]]);const Z=E({props:{row_key:null,checked:{type:Boolean},nav_name:null},setup(e){const t=e;let o=h("blueviolet");I(t,(r,b)=>{t.checked?o.value="background-color: blueviolet;":o.value="background-color: white;"}),t.checked&&(o.value="background-color: blueviolet;");const a=r=>{t.checked||(o.value="background-color: #FDF5E6;")},n=()=>{t.checked||(o.value="background-color: white;")};return(r,b)=>{const m=F("el-button");return p(),y("div",{class:"nav_tab",style:{display:"flex"},onMouseover:a,onMouseleave:n},[g("div",{class:"nav_before",style:C(d(o))},null,4),V(m,{id:"input_edit"+e.row_key,class:"nav_button"},{default:N(()=>[O(M(e.nav_name),1)]),_:1},8,["id"])],32)}}});var ee=B(Z,[["__scopeId","data-v-177a8ff4"]]);const te=e=>(U("data-v-13b1c78a"),e=e(),j(),e),oe={class:"one_note"},ae={class:"nav_tabs common_box"},ne={class:"section_tabs common_box"},ce=O("+"),se={class:"page_tabs common_box"},le=O("+"),ie=te(()=>g("div",null,null,-1)),de=E({setup(e){let t=h(0),o=h(""),a=T({});const n=T([]),r=T([]),b=T(["\u56FE\u4E66\u9986","\u68C0\u7D22","\u5386\u53F2"]);G({}).then(c=>{c.data.forEach(i=>{const v={section_id:i.section_id,section_name:i.section_name,page_list:[]};i.page_list.forEach(l=>{const k={page_id:l.page_id,section_id:l.section_id,page_name:l.page_name};v.page_list.push(k)}),n.push(v)})}).then(()=>{Object.assign(r,n[0].page_list)});const m=c=>{t.value=c},f=c=>{o.value=c},u=(c,i)=>{a.section_id=c,Object.assign(r,n[i].page_list)},s=()=>{A().then(c=>{const i=c.data,v={section_id:i.section_id+"",section_name:i.section_name,page_list:i.page_list};n.push(v)}).then(()=>{let c=n.length-1;u(n[c].section_id,c)})},_=()=>{const c={section_id:a.section_id};H(c).then(i=>{const v=i.data,l={page_id:v.page_id,section_id:v.section_id,page_name:v.page_name};r.push(l)})};return(c,i)=>{const v=F("el-button");return p(),y("div",oe,[g("div",ae,[(p(!0),y(P,null,$(d(b),(l,k)=>(p(),D(ee,{row_key:k,checked:d(t)==k,nav_name:l,onClick:K=>m(k)},null,8,["row_key","checked","nav_name","onClick"]))),256))]),g("div",ne,[g("div",null,[(p(!0),y(P,null,$(d(n),(l,k)=>(p(),D(Y,{row_key:l.section_id+"",onClick:K=>u(l.section_id,k),checked:l.section_id===d(a).section_id,section_data:l},null,8,["row_key","onClick","checked","section_data"]))),256))]),V(v,{class:"plus_button",onClick:s},{default:N(()=>[ce]),_:1})]),g("div",se,[g("div",null,[(p(!0),y(P,null,$(d(r),(l,k)=>w((p(),D(R,{row_key:l.page_id+"",onClick:K=>f(l.page_id),checked:l.page_id===d(o),page_data:l},null,8,["row_key","onClick","checked","page_data"])),[[x,l.section_id==d(a).section_id]])),256))]),V(v,{class:"plus_button",onClick:_},{default:N(()=>[le]),_:1})]),ie])}}});var _e=B(de,[["__scopeId","data-v-13b1c78a"]]);export{_e as default};
